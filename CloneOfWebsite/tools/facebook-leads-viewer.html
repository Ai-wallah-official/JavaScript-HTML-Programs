
<!DOCTYPE html>
<html lang="en">
<head>
    
        <title>Facebook Leads Viewer - Free Tool</title>
    <meta property="og:title" content="View and Download Facebook Leads - Free Tool"/>
    <meta name="description"
          content="This tool helps you check and download new leads from your Facebook Lead Ads. It works on your mobile phone, tablet, or laptop, and is 100% free to use."/>
    <meta property="og:description"
          content="This tool helps you check and download new leads from your Facebook Lead Ads. It works on your mobile phone, tablet, or laptop, and is 100% free to use."/>
    <meta property="og:image" content="https://privyr-images.imgix.net/homepage/Privyr+Lead+Viewer+-+Centred.png?auto=format"/>



    <head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0,
user-scalable=no">
    
    

    <link rel="apple-touch-icon" sizes="180x180" href="https://d1z8p0imlkk5pt.cloudfront.net/static/apple-touch-icon.b1275913eec8.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://d1z8p0imlkk5pt.cloudfront.net/static/favicon-32x32.e17264a46d3a.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://d1z8p0imlkk5pt.cloudfront.net/static/favicon-16x16.0dfd0bdce649.png">
    <link rel="manifest" href="https://d1z8p0imlkk5pt.cloudfront.net/static/site.c51021e65403.webmanifest">
    <link rel="mask-icon" href="https://d1z8p0imlkk5pt.cloudfront.net/static/safari-pinned-tab.69059621a8d5.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    


    <style>
        body {
            background: lightgrey;
            font-family: Roboto, sans-serif;
        }

        .dashboard-container {
            height: -webkit-fill-available;
            max-width: 30em;
            margin: 0 auto;
            background: #fafafa;
            padding-bottom: 5em;

        }


        @media only screen and (max-width: 1200px) {
            .dashboard-container {
                max-width: 100%;
            }

            body {
                background: white;
            }
        }

        .header-title {
            font-weight: 400;
            font-size: 1.6em;
        }

        .mdl-layout__container {
            max-width: 30em;
        }

        .page-content {
            padding-bottom: 8em;
        }
    </style>
</head>
    
    



    
    <link rel="stylesheet" href="https://d1z8p0imlkk5pt.cloudfront.net/static/css/styles.88082cc949a2.css">

    <link rel="stylesheet" href="https://d1z8p0imlkk5pt.cloudfront.net/static/css/bootstrap.4.2.0.min.d3643b9351b6.css">





    <link rel="stylesheet" href="https://d1z8p0imlkk5pt.cloudfront.net/static/fontawesome/css/all.min.9f39b1d134b7.css"  media="print" onload="this.media='all'">






     <link rel="stylesheet" href="https://d1z8p0imlkk5pt.cloudfront.net/static/css/global-fonts.88da56338973.css" media="print" onload="this.media='all'">


    <style>

        h1, h2, h3{
            font-family: Quicksand, sans-serif!important;
        }
        span, p, textarea, input,  h4, h5, h6 {
            font-family: Roboto, serif!important;
            font-weight: 300;
        }
        textarea, input{
            font-family: Roboto, serif!important;
            font-weight: 400;
        }

        textarea, input::placeholder {
            color: #999999;
            font-weight: 200;
        }

        textarea, input:-ms-input-placeholder { /* Internet Explorer 10-11 */
            color: #999999;
            font-weight: 200;
        }

        textarea, input::-ms-input-placeholder { /* Microsoft Edge */
            color: #999999;
            font-weight: 200;
        }
        :root{
            --privyr-gradient: linear-gradient(#68cafe, #d028fe);
            --dark-blue: #016398;
            --off-white: #eee;
        }

        .cursor-pointer{
            cursor: pointer;
        }
    </style>


    <script src="https://cdn.ravenjs.com/3.11.0/raven.min.js"></script>
    <script>
        Raven.config('https://ad94bc20259c4fa4b0feb9f1fc20e483@sentry.io/1407925').install()
    </script>

<!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116570030-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-116570030-1', {
      'custom_map': {'dimension1': 'subscription_status'}
});
  gtag('config', 'AW-730604536', { ' allow_enhanced_conversions': true });
</script>
    <!-- Facebook Pixel Code -->

<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('dataProcessingOptions', []);
  
            fbq('init', '2467212996832578');
      
  fbq('track', 'PageView');
</script>

<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=2467212996832578&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->




<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N8V2FCC');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N8V2FCC"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



    <script>
        /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
        (function(funcName, baseObj) {
    // The public function name defaults to window.docReady
    // but you can pass in your own object and own function name and those will be used
    // if you want to put them in a different namespace
    funcName = funcName || "docReady";
    baseObj = baseObj || window;
    var readyList = [];
    var readyFired = false;
    var readyEventHandlersInstalled = false;

    // call this when the document is ready
    // this function protects itself against being called more than once
    function ready() {
        if (!readyFired) {
            // this must be set to true before we start calling callbacks
            readyFired = true;
            for (var i = 0; i < readyList.length; i++) {
                // if a callback here happens to add new ready handlers,
                // the docReady() function will see that it already fired
                // and will schedule the callback to run right after
                // this event loop finishes so all handlers will still execute
                // in order and no new ones will be added to the readyList
                // while we are processing the list
                readyList[i].fn.call(window, readyList[i].ctx);
            }
            // allow any closures held by these functions to free
            readyList = [];
        }
    }

    function readyStateChange() {
        if ( document.readyState === "complete" ) {
            ready();
        }
    }

    // This is the one public interface
    // docReady(fn, context);
    // the context argument is optional - if present, it will be passed
    // as an argument to the callback
    baseObj[funcName] = function(callback, context) {
        if (typeof callback !== "function") {
            throw new TypeError("callback for docReady(fn) must be a function");
        }
        // if ready has already fired, then just schedule the callback
        // to fire asynchronously, but right away
        if (readyFired) {
            setTimeout(function() {callback(context);}, 1);
            return;
        } else {
            // add the function and context to the list
            readyList.push({fn: callback, ctx: context});
        }
        // if document already ready to go, schedule the ready function to run
        if (document.readyState === "complete") {
            setTimeout(ready, 1);
        } else if (!readyEventHandlersInstalled) {
            // otherwise if we don't have event handlers installed, install them
            if (document.addEventListener) {
                // first choice is DOMContentLoaded event
                document.addEventListener("DOMContentLoaded", ready, false);
                // backup is window load event
                window.addEventListener("load", ready, false);
            } else {
                // must be IE
                document.attachEvent("onreadystatechange", readyStateChange);
                window.attachEvent("onload", ready);
            }
            readyEventHandlersInstalled = true;
        }
    }
})("docReady", window);
    </script>

    

    <style>
        
    .wrapper {
        display: block;
    }


        body {
        font-family: 'Roboto', sans-serif;
        background: #f0f0f0;
    }

    p {
        font-family: 'Roboto', sans-serif;
        font-size: 1.1em;
        font-weight: 300;
        line-height: 1.7em;
        /*color: #999;*/
    }

    a, a:hover, a:focus {
        color: inherit;
        text-decoration: none;
        transition: all 0.3s;
    }
    .dropdown-item{
        padding-top: 1em!important;
        padding-bottom: 1em!important;
    }
        .dropdown-sub-item{
            padding-top: .5em!important;
        padding-bottom: .5em!important;
        }
    .body-container{
        margin-top: 7.5em;
    }


    .text-privyr-blue {
        color: var(--dark-blue);
    }

    .btn-privyr-blue {
        background: var(--dark-blue);
        color: white;
    }
    .btn-privyr-blue:hover {
        background: #01537f;
        color: white;
        cursor: pointer;
    }
    .bg-privyr-blue {
        background: #01537f;
    }
    .btn-outline-privyr-blue {
        color: var(--dark-blue);
        background-color: white;
        border-color: var(--dark-blue);
    }

    .btn-outline-privyr-blue:hover {
        color: white;
        border-color: var(--dark-blue);
        background-color: var(--dark-blue);
        cursor: pointer;
    }
    .btn-outline-info-white-bg {
        background-color: white;
    }
    .btn-outline-info-white-bg:hover {
        background-color: #17a2b8;
    }
    .btn-outline-success-white-bg {
        background-color: white;
    }
    .btn-outline-success-white-bg:hover {
        background-color: #28a745;
    }

    .select-product-button {
        background: white;
        color: var(--dark-blue);
    }
    .select-product-button:hover {
        color: #01537f;
        cursor: pointer;
    }


    .product-detail-modal-wrapper{
        background: rgba(0, 0, 0, 0.7);
    }
    .modal-close-button-corner {
        position: absolute; right: 0;
        font-size: 2em;
        padding: 5px 10px!important;
        border-radius: 50%;
        background: rgba(0, 0 ,0 , .5)!important;
    }
    .modal{z-index: 1250;}

    .row-small-gutters {
        margin-right: -5px;
        margin-left: -5px;
    }
    .col-small-gutters {
          padding-right: 5px;
          padding-left: 5px;
    }

    :root{
        --purple: #6d7fcc;
        --dark-purple: #7386D5;
        --charcoal: #545454;
        --font-title: Quicksand, sans-serif;
        --font-text: Roboto, serif;
        --dark-blue: #016398;
        --side-bar-show-max-width: 1250px;
        --accent-green: #43b27a;
    }

    .alertify{
        z-index: 1400!important;
            background-color: rgba(0, 0, 0, .7)!important;
    }
    .alertify .msg{
        color: black;
    }
    .alertify .ok {
        background: var(--dark-blue)!important;
        color: white!important;
        font-weight: 600;
        border-radius: 7%;
        }
     .card-columns{ column-count: 2}
        /*// Small devices (landscape phones, 576px and up)*/
    @media (min-width: 576px) {
        .card-columns{ column-count: 2}
    }

    /*// Medium devices (tablets, 768px and up)*/
    @media (min-width: 768px) {
        .card-columns{ column-count: 3}
    }

    /*// Large devices (desktops, 992px and up)*/
    @media (min-width: 992px) { .card-columns{ column-count: 3} }

    /*// Extra large devices (large desktops, 1200px and up)*/
    @media (min-width: 1300px) { .card-columns{ column-count: 3} }

    .product-card-title{
        font-family: Quicksand, sans-serif!important;
        font-weight: 700;
        color: #545454;
        font-size: 1.2em;
    }
    .product-card-description{
        font-weight: 700;

    }
    .dashboard-action-bar-top{
        z-index: 1000; border-bottom: 1px solid #CCCCCC;
    }

  @media (min-width: 1250px) {
        .body-wrapper{
            //margin-left: 19em;
        }
        .dashboard-action-bar-top{
            margin-left: 9.5em;
        }
        .desktop-mode-align{
            //margin-left: 19em;
        }
    }

.onboarding-tooltip > .tooltip-inner{
    background-color: var(--accent-green);
}

.onboarding-tooltip > .arrow::before{
        border-bottom-color: var(--accent-green);
}

.tooltip.show{
    opacity: 1;
}

  .bg-privyr-blue {
    background-color: var(--dark-blue);
}
.text-privyr-blue {
    color: var(--dark-blue);
}
.bg-privyr-grey{
        background-color: #f8f9fa;
}

.carousel-image{
    height: 20em;
    max-height: 60vh;
    object-fit: cover;
}


        .menu-item-primary-text {
            color: #666666;
            font-size: 1.1em;
            font-weight: 400;
            line-height: 1.3em;
        }

        .menu-item-secondary-text {
            color: #6c757d !important; /* text-secondary */
            font-size: 1.0em;
            line-height: 1.3em;
        }

        .menu-item-secondary-text-sm {
            color: #6c757d !important; /* text-secondary */
            font-size: 0.9em;
            line-height: 1.3em;
        }

        .menu-item-secondary-text-xsm {
            color: var(--secondary) !important; /* text-secondary */
            font-size: 0.8em;
            line-height: 1.3em;
        }

        .dashboard-header-navbar-link {
            color: #999999;
            font-size: 1.1em;
            padding-top: 15px;
            padding-bottom: 10px;
        }

        .dashboard-header-navbar-link:hover {
            color: var(--dark-blue);
            cursor: pointer;
        }

        .dashboard-header-navbar-link-active {
            font-weight: bold;
            color: var(--dark-blue) !important;
            border-bottom: 3px solid var(--dark-blue);
        }

        .fab-add {
            font-size: 1.1em;
            margin-left: auto;
            margin-right: 1em;
            bottom: 5.0em;
            border-radius: 1.3rem;
            width: 10em;
            box-shadow: 0 3px 5px 0 rgba(0, 0, 0, 0.4);
        }

        .modal-open {
            overflow-y: hidden;
        }

        .top-nav {
            height: 45px;
            line-height: 1.0em;
            border-bottom: 1px solid #DDDDDD;
        
            margin-top: 3.5em;
        
        }

        .privyr-main-tab {
            padding-top: 
                3em
        }

        * {
            -webkit-overflow-scrolling: touch;
        }

        .cursor-pointer {
            cursor: pointer;
        }

            .feature-text-sm {
            font-size: 0.9em;
            color: #333;
            font-weight: 400;
        }

        .feature-text {
            color: #333;
            font-weight: 400;
        }

        .text-heading {
            font-weight: 600;
            font-size: 1.2em;
            color: #333;
            text-align: center;
        }


    </style>
    <meta name="theme-color" content="#016398" /> 


    
    <style>

        .nav-pills .nav-link.active, .nav-pills .show > .nav-link {
            color: var(--info);
            background-color: white;
            border-bottom: 3px solid var(--info);
            border-radius: 0;
            font-weight: 600;
        }

        .custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {
            background-color: var(--dark-blue);
        }

        body {
            background-color: #f8f9fa!important;
        }

        .feature-text-sm {
            font-size: 0.9em;
            color: #333;
            font-weight: 400;
        }

        .feature-text {
            color: #333;
            font-weight: 400;
        }

        .text-heading {
            font-weight: 600;
            font-size: 1.2em;
            color: #333;
            text-align: center;
        }
        .hide-section{display: none;}
        .show_section{display: block;}
    body{
        min-height: 100vh!important;
    }
    .pitch-card{
        padding: 1em;
        border: 1px solid #EEEEEE;
        border-radius: 6px;

    }
    .pitch-card-wrapper{
                margin-top: 4em;
        margin-bottom: 3em;
    }
    #screen-1{
        margin-bottom: 2em;
    }

    .lead-display-list-item-cta{
        font-size: 0.9em; font-weight: 400;
    }
    .column-text{
        
        white-space: pre;
        overflow: hidden;
    }
    .text-underline{
        text-decoration: underline;
    }

    .ellipsize-text-1-line {
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
    }

    #main-content{
        margin-top: 0!important;
        margin-bottom: 0!important;
    }
    .bg-bottom-zone{
        background: white;
    }

    .faq-table-link{
        text-decoration: underline;
        color: var(--info);
        padding-bottom: 0.7em;
    }

    :root {
        --privyr-pink: #c763ff;
}

    </style>


</head>
<body class="bg-privyr-grey" style="height: 100%">


    <div class="container container-768 d-flex justify-content-between">
        <div class="d-flex flex-row justify-content-start align-items-center cursor-pointer" style="padding: 1em;" >
            
            <img src="https://d1z8p0imlkk5pt.cloudfront.net/static/img/Privyr Branding-Navbar.25eb76480886.svg" class="img-fluid" style="height: 1.8em;" href="/intro/facebook">
        </div>
            <div class="btn btn-info px-3 my-2" style="background: var(--privyr-gradient-rtl); border-width: 0; font-weight: 400; font-size: 1em;" onclick="window.location='/intro/facebook'">
                <p class="mb-0" style="font-weight: 400; line-height: 1.3; font-size: 1em;">Want instant alerts?</p>
            <p class="mb-0" style="font-size: 0.8em; line-height: 1.3;">Get the mobile app<i class="fas fa-bolt ml-2" aria-hidden="true"></i></p>
            </div>
    </div>

<!-- START: MAIN-CONTENT -->
<div id="main-content" class="container container-768 px-2 py-3" style="margin-bottom: 70px; margin-top: 3.0em;">

    

        <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: '2046042908833506',
                autoLogAppEvents: true,
                xfbml: false,
                version: 'v15.0'
            });
        };
    </script>
    <script  src="https://connect.facebook.net/en_US/sdk.js"></script>




    <div id="screen-1" class="">
    <div class="jumbotron pt-3 mb-0 bg-light text-dark">

        <h1 class="display-5 font-weight-bold text-center feature-text mb-4 text-uppercase">Download Facebook leads in Seconds</h1>
        <p class="lead text-dark mb-5 text-center" style="line-height: 1.3">This tool helps you check and download new leads from your Facebook Lead Ads. It works on your mobile phone, tablet, or laptop, and is <span class="font-weight-bold">100% free</span> to use.</p>
        <div class="text-center mb-3">
            <button class="btn btn-primary btn-lg" onclick="loginWithFacebook();"><i
                    class="fab fa-facebook-f mr-2"></i> Connect to Facebook
            </button>
        </div>
        <p class="lead text-secondary text-center" style="line-height: 1.3; font-size: 0.9em">You'll be redirected to Facebook to log in. We do not store your account information or lead details.</p>
    </div>

            



</div>



      <div id="screen-2" class="hide-section">
        <div class="w-100 mx-auto ">


            <!-- START: LEAD DISPLAY STATE -->
            <div id="lead_display_state" style="">
                <p class="text-dark px-2" style="line-height: 1.3;" id="screen-2-title">
                    Congrats! Your Facebook Pages received <strong>X Leads</strong> in the past 7 days. <span id="showIfMoreThan25Leads">Showing the last 25 leads:</span>
                </p>

                <div class="list-group" id="lead-list-group">

                    <div class="list-group-item list-group-item-action d-flex flex-row align-items-center justify-content-between cursor-pointer"
                    onclick="showLeadDetails">




                    </div>
                </div>

                <p class="mx-2 mt-2 text-dark" style="font-size: 0.9em;" id="restart-cta">You can come back anytime to <a href="/tools/facebook-leads-viewer" class="text-info" style="text-decoration: underline;">check again</a></p>


            <div class="pitch-card-wrapper">
    <div class="pitch-card " style="background-color: #f4e0ff;">
        <p class=" text-center feature-text" style="line-height: 1.3; font-size: 1.2em; color: var(--privyr-pink)"><i class="fas fa-bell mr-2"></i><strong>Get Instant New Lead Alerts for Free</strong></p>
        <p class=" text-center mb-2" style="line-height: 1.3; color: var(--privyr-pink); font-size: 16px; font-weight: 400;">Tired of manually checking for leads? Get instant alerts & easy<br> lead management with the Privyr app</p>
        <div style="max-width: 30em; margin: auto;">
            <form onsubmit="return tryPrivyrCTA();">
            <div class="input-group">
                <input type="email" id="upsell-email-input" class="form-control" placeholder="Enter your email..."
                       aria-label="" aria-describedby="basic-addon2" style="border-top-left-radius: 17px;
    border-bottom-left-radius: 17px;" required>
                <div class="input-group-append">
                    <button class="btn btn-light bg-white font-weight-bold" type="submit" style="border-top-right-radius: 17px;
    border-bottom-right-radius: 17px; color: var(--privyr-pink); border: 1px solid #ced4da;">SUBMIT</button>
                </div>
            </div>
            </form>
        </div>
    </div>
</div>

<style>
    :root {
        --privyr-pink: #c763ff;
    }
</style>

<script>
 function tryPrivyrCTA(){
     var email = $("#upsell-email-input").val();
     var toolName = $("#tool-name").val();
     var utmCampaign = toolName === 'linkedin' ? 'linkedin-lead-viewer-tool' : 'lead-viewer-tool';
     window.location = "/signup?utm_source=lead-viewer-tool&utm_medium=upsell-cta&utm_campaign=" + utmCampaign + "&email=" + email
     return false;
 }
</script>
            </div>
            <!-- END: LEAD DISPLAY STATE -->

        </div>
    </div>





</div>  <!-- END: MAIN-CONTENT -->


<!-- START Sticky Footer -->

    
    <div class="bg-bottom-zone py-4" style="border-top: 1px solid #DDDDDD;">

    <p class="lead display-5 text-center font-weight-bold text-dark">FAQs</p>
            

        <ol style="max-width: 600px; margin: 1em auto 2em auto;">
            <li class="faq-table-link"><a  href="#faq-1">How do I check and download my leads from Facebook Lead Ads?</a></li>
            <li class="faq-table-link"><a  href="#faq-2">Can I check my Facebook leads on my phone?</a></li>
            <li class="faq-table-link"><a  href="#faq-3">How do I get new lead alerts for Facebook Lead Ads?</a></li>
            <li class="faq-table-link"><a  href="#faq-4">What CRMs work with Facebook Leads?</a></li>
            <li class="faq-table-link"><a  href="#faq-5">What does this leads viewer and downloader tool do?</a></li>
            <li class="faq-table-link"><a  href="#faq-6">How do I use this tool?</a></li>
            <li class="faq-table-link"><a  href="#faq-7">Is my data secure when I use this tool?</a></li>
            <li class="faq-table-link"><a  href="#faq-8">Is this really free to use?</a></li>
            <li class="faq-table-link"><a  href="#faq-9">What is Privyr?</a></li>
        </ol>


    <div class="" style="max-width: 600px; margin: 1em auto 4em auto;" id="faqAccordian">

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-1" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      How do I check and download my leads from Facebook Lead Ads?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-1" class="" aria-labelledby="faq-1" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"><p class='text-dark' style='line-height: 1.3'>You can check your leads directly from Facebook by going to the Facebook Page where you're running your Lead Ads and downloading a CSV for each Lead Ads Form. You can view the full steps on <a href='https://www.facebook.com/help/publisher/977482022303376' target='_blank' class='text-info font-weight-bold'>Facebook's official documentation</a>.</p><p class='text-dark' style='line-height: 1.3'>Note that using this method, your <a href='https://www.facebook.com/business/help/1526849577619206?id=735435806665862' target='_blank' class='text-info font-weight-bold'>leads will only be kept for 90 days</a>, and leads older than that can no longer be accessed. </p> <p class='text-dark mb-0' style='line-height: 1.3'>Alternately, you can use this free tool to check and download your recent leads within seconds. You can also use a third party integration or CRM, such as Privyr, to get instant new lead alerts and quickly access your leads across any device, without any time limits or expiration.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-2" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      Can I check my Facebook leads on my phone?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-2" class="" aria-labelledby="faq-2" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"><p class='text-dark' style='line-height: 1.3'>Unfortunately, the official <strong>Facebook</strong> and <strong>Facebook Page</strong> mobile apps don't support checking or viewing leads from your phone. You can use Facebook's <strong>Ads</strong> app to check the number of leads received, but you won't be able to access any lead details via the app.</p><p class='text-dark' style='line-height: 1.3'>However, you can go to the Facebook website on your mobile browser, request the desktop site, then follow the usual steps to <a href='https://www.facebook.com/help/publisher/977482022303376' target='_blank' class='text-info font-weight-bold'>download Facebook Leads on desktop</a>. Note that this method will still entail downloading CSV files of the lead data, which may not be viewable on all mobile devices.</p><p class='text-dark mb-0' style='line-height: 1.3'>Alternately, you can use this free tool to quickly check your recent leads from your phone. You can also use a third party integration or CRM, such as Privyr, to get instant new lead alerts and quickly access your leads from your phone and other mobile devices.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-3" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      How do I get new lead alerts for Facebook Lead Ads?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-3" class="" aria-labelledby="faq-3" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"><p class='text-dark' style='line-height: 1.3'>Facebook does not give any alerts for new leads generated through your Facebook Lead Ads. Instead, you'll need to manually check for new leads by downloading a CSV for each of your Lead Ads Forms.</p><p class='text-dark mb-0' style='line-height: 1.3'>if you want instant new lead alerts, you'll need to use a third party integration or CRM, such as Privyr, to get notified via email or a mobile app every time you receive a new lead.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-4" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      What CRMs work with Facebook Leads?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-4" class="" aria-labelledby="faq-4" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"> <p class='text-dark' style='line-height: 1.3'>There are dozens of CRMs that work with Facebook Lead Ads, many of which are listed under <a href='https://www.facebook.com/business/help/908902042493104?id=735435806665862' target='_blank' class='text-info font-weight-bold'>Facebook's CRM integrations</a>.</p><p class='text-dark' style='line-height: 1.3'>While powerful, most of these CRMs are very desktop centric and may require additional setup and paid integrations - such as Zapier - to work with Facebook Lead Ads.</p><p class='text-dark mb-0' style='line-height: 1.3'>Privyr is a simple, mobile CRM that connects directly to Facebook Lead Ads within seconds, with no complex setup or external integrations needed. It also works with WhatsApp, SMS, email, and other popular chat applications.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-5" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      What does this leads viewer and downloader tool do?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-5" class="" aria-labelledby="faq-5" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"><p class='text-dark' style='line-height: 1.3'>This free tool lets you quickly view and download recent leads from your Facebook Lead Ads, and works on your mobile phone, tablet, or laptop. You can view the details of leads received in the past week directly in your browser, without any additional setup or accounts needed.</p><p class='text-dark mb-0' style='line-height: 1.3'>As this is a simple browser-based tool, it does not give real-time lead alerts nor store any account or lead information. If you need instant new lead alerts and lead management functionality, you can try the full Privyr application.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-6" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      How do I use this tool?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-6" class="" aria-labelledby="faq-6" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"> <p class='text-dark' style='line-height: 1.3'>Viewing and downloading your Facebook leads with this tool is simple and only takes a few taps - you'll be able to access your leads directly from your browser within seconds. There is no complex setup or account creation needed.</p><p class='text-dark' style='line-height: 1.3'>To check your Facebook leads, just tap the '<strong>Sign In with Facebook</strong>' button above and verify your Facebook account, select the Facebook Pages you wish to check for new leads, and ensure you grant the necessary permissions to view the leads (these are enabled by default).</p><p class='text-dark' style='line-height: 1.3'>Once done, your Facebook Leads received in the last 7 days will be fetched and displayed on the page. You can tap on any lead to view their full details. Note that if you have many leads, only the most recent 25 leads will be displayed in order to reduce processing time.</p><p class='text-dark mb-0' style='line-height: 1.3'>You can come back and use this tool as many times as you want. If you previously selected specific Pages and wish to check leads for different Pages, just restart the process and tap on '<strong>Edit Settings</strong>' when prompted by Facebook after signing in.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-7" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      Is my data secure when I use this tool?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-7" class="" aria-labelledby="faq-7" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"> <p class='text-dark' style='line-height: 1.3'>Your account information and lead details are fully private and secure. </p><p class='text-dark' style='line-height: 1.3'>Account verification and access is completely handled by Facebook, and no account details are accessed or stored by Privyr or any other third parties.</p><p class='text-dark mb-0' style='line-height: 1.3'>All lead details are delivered in a secure, direct connection between Facebook and your browser. This data is completely and permanently deleted as soon as you leave the page. No data is accessed or stored by Privyr or any other third parties.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-8" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      Is this really free to use?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-8" class="" aria-labelledby="faq-8" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"><p class='text-dark' style='line-height: 1.3'>Yes! We built this tool as a way for people to quickly check their Facebook Leads without having to deal with the hassle of desktop sites, downloading CSVs, or complex integrations. This tool is 100% free to use, and no account or lead details are ever stored or sold.</p><p class='text-dark mb-0' style='line-height: 1.3'>If you want more powerful features in a simple mobile app, you can check out the <a href='https://www.privyr.com/intro/facebook' target='_blank' class='text-info font-weight-bold'>Privyr app</a> which gives instant new lead alerts, one-touch WhatsApp / SMS / calls, auto-personalised quick response messages, and much more. The full app comes with a free trial, with no credit card details required.</p></p>
                </div>
            </div>
        </div>

        

          <div class="pt-2 pb-1 mx-2" style="border-bottom: 0px solid #ddd; padding-bottom: 2em;!important;">
            <div class=" bg-transparent d-flex  cursor-pointer text-dark" id="faq-9" >
                <h2 class="mb-0 d-flex flex-row justify-content-between w-100 align-items-center font-weight-bold">
                    <span class="btn text-dark feature-text text-left font-weight-bolder" style="white-space: normal!important; color: #333!important;">
                      What is Privyr?
                    </span>
                    <i class="fal fa-chevron-down text-right ml-auto font-weight-bold mr-2 d-none" style="font-size: 0.5em;"></i>
                </h2>
            </div>

            <div id="collapse-faq-9" class="" aria-labelledby="faq-9" data-parent="#faqAccordian">
                <div class="card-body pt-1">
                    <p class="text-dark mb-0" style="line-height: 1.3"><p class='text-dark' style='line-height: 1.3'>Privyr is a mobile CRM built for sales professionals who run their businesses from their phone. It works with WhatsApp, SMS, email, and other popular chat apps.</p><p class='text-dark' style='line-height: 1.3'>It connects to your Facebook Lead Ads and website for instant alerts of new leads, and also integrates with your phonebook for quick saving and access of contacts.</p><p class='text-dark' style='line-height: 1.3'>You can send auto-personalised quick response messages in one touch through WhatsApp or SMS, without any typing needed. Privyr also includes automatic follow-up reminders, client timelines, notes, PDF file and page tracking, bulk sending, and much more.</p><p class='text-dark mb-0' style='line-height: 1.3'>To find out more about Privyr and sign up for a free trial, <a href='https://www.privyr.com/intro/facebook' target='_blank' class='text-info font-weight-bold'>click here</a>.</p></p>
                </div>
            </div>
        </div>



    </div>
    

        <p class="text-center mb-4 text-secondary feature-text-sm mt-4"> Brought to you by Team Privyr<i class="fas fa-heart text-danger ml-2"></i></p>

        <p class="text-secondary text-center feature-text-sm">Need help? <a href="javascript:void(0)" class="text-info support-open-chat" style="font-weight: 400;">Chat with us</a></p>

    </div>

<!-- END Sticky Footer -->





<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
<script src="https://d1z8p0imlkk5pt.cloudfront.net/static/js/bootstrap.4.2.0.min.8c9575175645.js" crossorigin="anonymous"></script>


    <script defer src="https://d1z8p0imlkk5pt.cloudfront.net/static/js/fullstory.1cefd49caa5f.js"></script>
    

<script>
    function initLightBox() {
        // Lightbox settings
        lightbox.option({
            'disableScrolling': true,
            'alwaysShowNavOnTouchDevices': true,
        });
    }
</script>



<script>
    
    UPLOADCARE_PUBLIC_KEY = '60817cab11ddd74230a7';
    UPLOADCARE_CDN_BASE = 'https://d159mp1jtm97ku.cloudfront.net/';
</script>


<script>
    var textarea_elements = document.querySelectorAll('.resize-textarea');
    if (textarea_elements.length > 0) {
        textarea_elements.forEach(function (element) {
            element.addEventListener('keydown', autosize);
        });
    }

    function autosize() {
        var el = this;
        setTimeout(function () {
            el.style.cssText = 'height:auto; padding:0';
            // for box-sizing other than "content-box" use:
            // el.style.cssText = '-moz-box-sizing:content-box';
            el.style.cssText = 'height:' + el.scrollHeight + 'px';
        }, 0);
    }

    function pluralizeAndStringify(value, word, suffix = 's') {
        // FIXME: default in signature not allowed in ECMA 4
        if (value == 1) return value + ' ' + word;
        else return value + ' ' + word + suffix;
    }
</script>

<link rel='preload stylesheet' href="https://d1z8p0imlkk5pt.cloudfront.net/static/css/jquery.toast.min.00aafc41c095.css" as="style" onload="this.rel='stylesheet'">
<script defer src="https://d1z8p0imlkk5pt.cloudfront.net/static/js/jquery.toast.min.584cedfc9bca.js"></script>
<script defer src="https://d1z8p0imlkk5pt.cloudfront.net/static/js/lightbox.min.754f3b83f877.js" onload="initLightBox();"></script>

<div class="loader-modal"><!-- Place at bottom of page --></div>
<style>
    /* Start by setting display:none to make this hidden.
   Then we position it in relation to the viewport window
   with position:fixed. Width, height, top and left speak
   for themselves. Background we set to 80% white with
   our animation centered, and no-repeating */
.loader-modal {
    display:    none;
    z-index: 1300;
    position:   fixed;
    top:        0;
    left:       0;
    height:     100%;
    width:      100%;
    background: rgba( 255, 255, 255, .8 )
                url('https://d1z8p0imlkk5pt.cloudfront.net/static/img/loader-v2.08f2fe6f4b44.gif')
                50% 50%
                no-repeat;
}

/* When the body has the loading class, we turn
   the scrollbar off with overflow:hidden */
body.loading .loader-modal {
    overflow: hidden;
}

/* Anytime the body has the loading class, our
   modal element will be visible */
body.loading .loader-modal {
    display: block;
}
</style>
<script>
    $body = $("body");

    function showFullScreenLoaderModal() {
        $body.addClass('loading');
    }
    function removeFullScreenLoaderModal() {
        $body.removeClass('loading');
    }
</script>
<style>
    #toast {
    visibility: hidden;
    max-width: 50px;
    height: 50px;
    /*margin-left: -125px;*/
    margin: auto;
    background-color: var(--dark-blue);
    color: #fff;
    text-align: center;
    border-radius: 2px;

    position: fixed;
    z-index: 1600;
    left: 0;right:0;
    bottom: 30px;
    font-size: 17px;
    white-space: nowrap;

}
#toast #img{
	width: 50px;
	height: 50px;

    float: left;

    padding-top: 16px;
    padding-bottom: 16px;

    box-sizing: border-box;


    background-color: var(--dark-blue);
    color: #fff;
}
#toast #toast-desc{


    color: #fff;

    padding: 16px;

    overflow: hidden;
	white-space: nowrap;
}

#toast.show {
    visibility: visible;
    -webkit-animation: fadein 0.5s, expand 0.5s 0.5s,stay 3s 1s, shrink 0.5s 2s, fadeout 0.5s 2.5s;
    animation: fadein 0.5s, expand 0.5s 0.5s,stay 3s 1s, shrink 0.5s 4s, fadeout 0.5s 4.5s;
}

@-webkit-keyframes fadein {
    from {bottom: 0; opacity: 0;}
    to {bottom: 30px; opacity: 1;}
}

@keyframes fadein {
    from {bottom: 0; opacity: 0;}
    to {bottom: 30px; opacity: 1;}
}

@-webkit-keyframes expand {
    from {min-width: 50px}
    to {min-width: 350px}
}

@keyframes expand {
    from {min-width: 50px}
    to {min-width: 350px}
}
@-webkit-keyframes stay {
    from {min-width: 350px}
    to {min-width: 350px}
}

@keyframes stay {
    from {min-width: 350px}
    to {min-width: 350px}
}
@-webkit-keyframes shrink {
    from {min-width: 350px;}
    to {min-width: 50px;}
}

@keyframes shrink {
    from {min-width: 350px;}
    to {min-width: 50px;}
}

@-webkit-keyframes fadeout {
    from {bottom: 30px; opacity: 1;}
    to {bottom: 60px; opacity: 0;}
}

@keyframes fadeout {
    from {bottom: 30px; opacity: 1;}
    to {bottom: 60px; opacity: 0;}
}
</style>
<script>
    function showToast(text) {
        var x = document.getElementById("toast");
        $('.toast-message').html(text);
        x.className = "show";
        setTimeout(function(){ x.className = x.className.replace("show", ""); }, 5000);
}
</script>
<div id="toast">
    <div id="img"><i class="fas fa-info"></i></div>
    <div id="toast-desc" class="toast-message">A notification message..</div>
</div>

<script>
    /**
 * Wrapper for jQuery's $.post() that retrieves the CSRF token from the browser
 * cookie and sets then sets "X-CSRFToken" header in one fell swoop.
 *
 * Based on the example code given at the Django docs:
 * https://docs.djangoproject.com/en/1.9/ref/csrf/#ajax
 *
 * Use as you would $.post().
 */

(function($) {

  $.postRequest = function(url, data, csrfToken,callback, type, httpMethod) {
      // Old versions for safari do not allow default declration in signature. Using this method for that
      if (type === undefined) {
          type="JSON";
      }
      if (httpMethod === undefined) {
          httpMethod="POST";
      }


    function csrfSafeMethod(method) {
      // these HTTP methods do not require CSRF protection
      return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }


    // shift arguments if data argument was omitted
    if ($.isFunction(data)) {
      type = type || callback;
      callback = data;
      data = undefined;
    }

    return $.ajax(jQuery.extend({
      url: url,
      type: httpMethod,
      dataType: type,
      data: JSON.stringify(data),
      success: callback,
        contentType: "application/json",
      beforeSend: function(xhr, settings) {
        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
          xhr.setRequestHeader("X-CSRFToken", csrfToken);
        }
      }
    }, jQuery.isPlainObject(url) && url));
  };

  $.postCSRF = function(url, data, callback, type) {

    function csrfSafeMethod(method) {
      // these HTTP methods do not require CSRF protection
      return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }

    function getCookie(name) {
      var cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
          var cookie = jQuery.trim(cookies[i]);
          // Does this cookie string begin with the name we want?
          if (cookie.substring(0, name.length + 1) == (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
    }

    var csrftoken = getCookie('csrftoken');

    // shift arguments if data argument was omitted
    if ($.isFunction(data)) {
      type = type || callback;
      callback = data;
      data = undefined;
    }

    return $.ajax(jQuery.extend({
      url: url,
      type: "POST",
      dataType: type,
      data: data,
      success: callback,
      beforeSend: function(xhr, settings) {
        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
          xhr.setRequestHeader("X-CSRFToken", csrftoken);
        }
      }
    }, jQuery.isPlainObject(url) && url));
  };
}(jQuery));

</script>
<script>
    class URlUtils{
         static getParameterByName(name, url) {
             if (!url) url = window.location.href;
             name = name.replace(/[\[\]]/g, '\\$&');
             var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                 results = regex.exec(url);
             if (!results) return null;
             if (!results[2]) return '';
             return decodeURIComponent(results[2].replace(/\+/g, ' '));
         }


    }
</script>
<script>

    class AnalyticsHelper {


        static sendInteractionEvent(category, action, label) {
            if (label === undefined){
                label = null;
            }
            if (!this.isAnalyticsLoaded()) {
                return false;
            }
            gtag('event', action, {
                'event_category': category,
                'event_label': label
            });
            return true;
        }

        static sendVirtualPageView(title, path) {

            setTimeout(function () {
                if (!AnalyticsHelper.isAnalyticsLoaded()) {
                    return false;
                }
                var virtual_path = '/vurl/' + path;

                // Universal Aanalytics
                gtag('config', 'UA-116570030-1', {
                    'page_title': title,
                    'page_path': virtual_path
                });

                // In GA4, pageview is migration likes this
                gtag('event', 'page_view', {
                    page_title: title,
                    page_location: 'https://www.privyr.com'+ virtual_path, // Include the full URL in GA4
                    });

                // Push virtual pageview to GTM
                dataLayer.push({
                    'event': 'virtual_pageview',
                    'virtual_page_path': virtual_path, 'virtual_page_title': title
                })


            }, 0, this)

        }

        static setUserId(user_id) {
            if(!AnalyticsHelper.isAnalyticsLoaded()){return ;}

            gtag('set', {'user_id': user_id}); // Set the user ID using signed-in user_id.
            
        }

        static isAnalyticsLoaded() {
            return !!(window.gtag);
        }
        static providerExists(p){
            return p !== undefined && p !== null;

        }

        static reportFBConnectedConversion() {
            AnalyticsHelper.sendVirtualPageView('Onboarding Facebook Connected', 'onboarding/facebook-connected');
            //Adwords event
              gtag('event', 'conversion', {'send_to': 'AW-730604536/mpP8CIv06tgBEPjHsNwC'});
            //FB event
             fbq('trackCustom', 'OnboardingFBConnected');
        }
        static reportFBHasFormsConversion() {
            AnalyticsHelper.sendVirtualPageView('Onboarding Has Forms', 'onboarding/facebook-has-forms');
            //Adwords event
              gtag('event', 'conversion', {'send_to': 'AW-730604536/zDhSCJvdg9wBEPjHsNwC'});
            //FB event
             fbq('trackCustom', 'OnboardingFBHasForms');
        }

        static reportPrivacyPolicyGeneratedConversion() {
            AnalyticsHelper.sendVirtualPageView('Privacy Policy Generated', 'tools/privacy-policy/generate');
            //Adwords event
              gtag('event', 'conversion', {'send_to': 'AW-730604536/jU84CNLW3_8CEPjHsNwC'});
            //FB event
             fbq('trackCustom', 'PrivacyPolicyGenerated');
        }

        static subscribeConversion() {
            AnalyticsHelper.sendVirtualPageView('Subscribe', 'subscription/subscribe');
             gtag('event', 'conversion', {'send_to': 'AW-730604536/C3eXCP_8nN4BEPjHsNwC'});
            fbq('trackCustom', 'Subscription');
        }

        static reportSignUpConversion(privyr_conversion_id) {
            if(AnalyticsHelper.isAnalyticsLoaded()){
                          gtag('event', 'conversion', {
              'send_to': 'AW-730604536/EUiBCJfPp64BEPjHsNwC'});
                          AnalyticsHelper.sendVirtualPageView('Success Sign Up', 'signup/success');

            }
            /* Marketing conversion events - do not remove*/
            if (typeof fbq !== 'undefined' && fbq !== null){
                fbq('track', 'Lead');
            }
            if (typeof tap !== 'undefined' && tap !== null){
                 tap('trial', privyr_conversion_id);
            }
            dataLayer.push({'external_id': privyr_conversion_id});
            dataLayer.push({'event': 'signup'});

          return false;
        }

        static setUpGoogleEnhancedConversionsVariables () {
            enhanced_conversion_data = {
                "email": '',
                "address": {
                    "first_name": '',
                    "country":  ''
                }
            };
            gtag('set', 'user_data', enhanced_conversion_data)
    }

        static sendGA4Event(event) {
             setTimeout(function () {
                if (!AnalyticsHelper.isAnalyticsLoaded()) {
                    return false;
                }


                // In GA4, pageview is migration likes this
                gtag('event', event);

                // Push virtual pageview to GTM
                dataLayer.push({
                    'event': event,
                })


            }, 0, this)
        }

        static ga4ReportSubscriptionStart(sub_status) {
            setTimeout(function () {
                if (!AnalyticsHelper.isAnalyticsLoaded()) {
                    return false;
                }


                // In GA4, pageview is migration likes this
                gtag('event', 'clicked-confirm-payment', {'subscription_status' : sub_status});



            }, 0, this)
        }

        static reportLeadMagnetGeneratedConversion() {
             if(AnalyticsHelper.isAnalyticsLoaded()) {
                 gtag('event', 'conversion', {
                     'send_to': 'AW-730604536/baY5CMPCiLgYEPjHsNwC',
                 });
             }
        }

    }

    AnalyticsHelper.ACTIONS = {
        CLICK: 'click',
        SCROLL: 'scroll',
        OPEN: 'open',
        CLOSED: 'close'
    };

    AnalyticsHelper.CATEGORY = {
        // Dashboard
        TEMPLATE_HOME: 'template-page',
        PRODUCTS_HOME: 'product-page',
        ACTIONS_HOME: 'product-page',
        CLIENTS_HOME: 'clients-page',
        SETTINGS_HOME: 'settings-page',

        // Generated content facing
        COLLECTION: 'collection',
        PAGE: 'landing-page',

        // Modals
    };

    AnalyticsHelper.GA4_EVENTS = {
        LEAD_CAP_TOOL_LEAD_MAG_GENERATE: 'LC_TOOL_GENERATED',
        LEAD_CAP_TOOL_CLICKED_COPY: 'LC_TOOL_CLICKED_COPY',
        LEAD_CAP_TOOL_LEAD_SUBMITTED: 'LC_TOOL_LEAD_SUBMITTED',

        // Subscription

        // TOOLS
        TOOL_WHATSAPP_BULK_SENDER_START: 'TOOL_WHATSAPP_BULK_SENDER_START',
        TOOL_WHATSAPP_BULK_SENDER_CLICK_SEND_BUTTON: 'WA_BULK_SENDER_CLICK_SEND_BUTTON'
    };

    var enhanced_conversion_data = null;

</script>



    <script src="https://cdn.ravenjs.com/3.11.0/raven.min.js"></script>
    <script>
        Raven.config('https://ad94bc20259c4fa4b0feb9f1fc20e483@sentry.io/1407925').install()
    </script>

<!-- jQuery Modal -->


    
    
    <script>

        function loginWithFacebook() {
            AnalyticsHelper.sendVirtualPageView('FB LEAD Extractor', ANALYTICS_VPAGES.SIGN_IN_START);

            FB.login(function (response) {
                ProgressBarDialogUtils.start('Logging in...');

                if (response.authResponse) {
                    console.log('Successfully logged in', response);
                    fetchFacebookPages(response.authResponse);
                } else {
                    console.log('Login wasn\'t successful', response);
                    ProgressBarDialogUtils.end();
                    showFacebookErrorAlert();
                }

            }, {
                scope: 'ads_management,pages_manage_ads,pages_manage_metadata,leads_retrieval,pages_read_engagement,business_management',
                enable_profile_selector: true,
            });

        }

        function showFacebookErrorAlert() {
            alertify.alert('<div class="px-3">\n' +
                '<p class="text-danger font-weight-bold text-left" style="line-height:1.3"><i class="far fa-exclamation-triangle mr-2"></i>Insufficient Permissions</p><p class="text-left text-dark" style="line-height:1.3; font-weight: 500;">Oops! Your Facebook leads couldn\'t be accessed due to insufficient permissions.</p>\n' +
                '<p class="text-left text-dark" style="line-height:1.3">Please try connecting again, ensuring that:</p><p class="text-left text-dark pl-3" style="line-height:1.3">1. You select at least 1 Facebook Page</p><p class="text-left text-dark pl-3" style="line-height:1.3">2. You have ADMIN permissions on the selected Facebook Page(s), which is required to view leads from those Pages.</p><p class="text-left text-dark pl-3 mb-4" style="line-height:1.3">3. You grant Privyr all requested permissions when prompted</p><p class="text-left text-dark" style="line-height:1.3">If the issue persists, please contact Privyr Support at <a href="mailto:support@privyr.com?subject=Issue%20with%20Facebook%20Leads%20Viewer%20Tool" class="text-info">support@privyr.com</a></p>\n' +
                '</div>'
                )
                AnalyticsHelper.sendVirtualPageView('FB LEAD Extractor', ANALYTICS_VPAGES.ERROR);

        }

        function checkIfValidFacebookResponse(response) {
            return !!response &&!!response.data;
        }



        var PAGES = {};
        var LEADS_TO_DISPLAY = {};
        var FORMS = {};
        var GRAPH_API_PREFIX = 'https://graph.facebook.com/v14.0';
        var ANALYTICS_VPAGE_PREFIX = 'tools/fb-lead-extract/';
        var ANALYTICS_VPAGES = {
            SIGN_IN_START: ANALYTICS_VPAGE_PREFIX + 'sigin-start',
            PAGE_FETCH_START: ANALYTICS_VPAGE_PREFIX + 'page-fetch-start',
            FORM_FETCH_START: ANALYTICS_VPAGE_PREFIX + 'form-fetch-start',
            LEAD_FETCH_START: ANALYTICS_VPAGE_PREFIX + 'lead-fetch-start',
            RESULT_EMPTY: ANALYTICS_VPAGE_PREFIX + 'results-empty',
            RESULT_HAS_LEADS: ANALYTICS_VPAGE_PREFIX + 'results-has-leads',
            ERROR: 'error'
        };

        function fetchFacebookPages(fb_response, days) {
            // fb_response: {userID, accessToken, expiresIn}
            ProgressBarDialogUtils.update('Finding your pages...', 25);

            FB.api('/me/accounts', function (response) {
                console.log(response);

                //check if valud FB response or raise error
                if(!checkIfValidFacebookResponse(response) || !response.data.length){
                    showFacebookErrorAlert();
                    ProgressBarDialogUtils.end();
                    return;
                }

                response.data.forEach(function (p) {
                    // We need MANAGE Permission if we want to see the leads. So only select pages that have that permission
                    if($.inArray('MANAGE' ,p.tasks) > -1){
                        PAGES[p.id] = p;
                    } else{
                        console.warn('Skipping page because it doesnt have permissions: '+ p.name)
                    }

                });

                fetchAllForms();
            });
            AnalyticsHelper.sendVirtualPageView('FB LEAD Extractor', ANALYTICS_VPAGES.PAGE_FETCH_START);

        }

        function getResponseArrayFromArguments(requests, arguments) {
            if(requests.length > 5) {
                return Array.prototype.slice.call(arguments);
            }
            return [arguments]
        }

        function fetchAllForms() {
            /*
            This function fetches all the facebook form using ajax Promise. This makes multiple facebook calls
            * */
            ProgressBarDialogUtils.update('Looking for your leads...', 50);
            var requests = Object.values(PAGES).map(function (page) {
                // page: {access_token, name, id, tasks}
                return $.ajax({
                    method: 'GET',
                    dataType: "json",
                    url: GRAPH_API_PREFIX + '/me/leadgen_forms?fields=page_id,id,name&access_token=' + page.access_token
                });
            });

            // Promise when all forms are fetched
            $.when.apply(this, requests).then(function (resp1, resp2/*, ... */) {
                var responseArgsArray = getResponseArrayFromArguments(requests, arguments);
                responseArgsArray.forEach(function (resp) {
                    // TODO: Check if valid response. What to do for error
                    if(!checkIfValidFacebookResponse(resp[0])){
                        return; // Not further action needed. Continue processing rest of the forms
                    }
                    resp[0].data.forEach(function (x) {
                        FORMS[x.id] = x;
                    });
                });
                fetchAllLeadsWithinDays(7);

            }, handleProcessingError);
            AnalyticsHelper.sendVirtualPageView('FB LEAD Extractor', ANALYTICS_VPAGES.FORM_FETCH_START);

        }

        function getDaysAgoTimeStamp(dasyAgo) {
            
            var d = new Date();
            d.setDate(d.getDate() - dasyAgo);
            return d.getTime() / 1000;
        }

        function handleProcessingError(){
              showFacebookErrorAlert();
                    ProgressBarDialogUtils.end();
        }

        function fetchAllLeadsWithinDays(pastDaysToFetch) {
            
            
            ProgressBarDialogUtils.update('Fetching your leads...', 75);

            var requests = Object.values(FORMS).map(function (form) {
                // form: {id, page_id}
                var url = GRAPH_API_PREFIX + "/{id}/leads?fields=id,created_time,field_data,campaign_name,adset_name,ad_name,form_id,platform&filtering=[{'field': 'time_created', 'operator': 'GREATER_THAN', 'value': '{timestamp}'}]&access_token={token}"
                    .replace('{id}', form.id).replace('{timestamp}', getDaysAgoTimeStamp(pastDaysToFetch))
                    .replace('{token}', PAGES[form.page_id].access_token);

                return $.ajax({
                    method: 'GET',
                    dataType: "json",
                    url: url
                });
            });

            $.when.apply(this, requests).then(function (a1, a2 /*, ... */) {
                var responseArgsArray = getResponseArrayFromArguments(requests, arguments);
                responseArgsArray.forEach(function (resp) {

                    if(!checkIfValidFacebookResponse(resp[0])){
                        return; // Not further action needed. Continue processing rest of the forms
                    }

                    resp[0].data.forEach(function (x) {
                        LEADS_TO_DISPLAY[x.id] = x
                    });
                });
                showLeadListScreen();
            }, handleProcessingError);
            AnalyticsHelper.sendVirtualPageView('FB LEAD Extractor', ANALYTICS_VPAGES.LEAD_FETCH_START);


        }
        var LEAD_LIST_ITEM_HTML = "<div class=\"list-group-item list-group-item-action d-flex flex-row align-items-center justify-content-between cursor-pointer\" onclick=\"leadModalUtils.updateLeadDetailsModalAndShow({id})\">\n" +
            "    <div class=\"flex-grow-1 d-flex flex-column\">\n" +
            "    <p class=\"mb-0 ellipsize-text-1-line text-dark\" style=\"line-height: 1.5;\"><strong>{name}</strong></p>\n" +
            "    <p class=\"mb-0 text-secondary ellipsize-text-1-line\" style=\"font-size: 0.9em; line-height: 1.5;\">via {pageName}</p>\n" +
            "    <p class=\"mb-0 text-secondary ellipsize-text-1-line\" style=\"font-size: 0.9em; line-height: 1.5;\">{date}</p>\n" +
            "    </div>\n" +
            "    <div class=\"text-info d-flex align-items-center\"><span class=\"d-none d-lg-block lead-display-list-item-cta\">View Details</span><i class=\"fas fa-angle-right ml-2  lead-display-list-item-cta\" aria-hidden=\"true\"></i></div>\n" +
            "</div>";

        function showLeadListScreen() {
            var leadListContainer = $('#lead-list-group');
            leadListContainer.empty();
            //Sort leads by date and dsiplay first few
            var leadListToDisplay = Object.values(LEADS_TO_DISPLAY).sort(function (a,b) {
                    // Turn your strings into dates, and then subtract them
                  // to get a value that is either negative, positive, or zero.
                  return new Date(b.created_time) - new Date(a.created_time);
            });
            leadListToDisplay.forEach(function (lead) {
                var itemHTML = LEAD_LIST_ITEM_HTML.replace('{name}', guessLeadName(lead) || 'New Lead on '+moment(lead.created_time).format('DD MMM YYYY - h:mm A'))
                    .replace('{pageName}', PAGES[FORMS[lead.form_id].page_id].name)
                    .replace('{date}', moment(lead.created_time).format('DD MMM YYYY - h:mm A'))
                    .replace('{id}', lead.id);
                leadListContainer.append(itemHTML);
            });
            if (leadListToDisplay.length > 25){
                $('#screen-2-title').html('Congrats! Your Facebook Pages received <strong>{count} Leads</strong> in the past 7 days. <span id="showIfMoreThan25Leads">Showing the last 25 leads:</span>\n'.replace('{count}', leadListToDisplay.length))
                sendConversionEvents();
            } else if (leadListToDisplay.length > 0){
                $('#screen-2-title').html('Congrats! Your Facebook Pages received <strong>{count} Leads</strong> in the past 7 days.'.replace('{count}', leadListToDisplay.length))
                sendConversionEvents();
            } else{
                $('#screen-2-title').html("<div>\n" +
                    "<p class='text-secondary text-center'><i class=\"fal fa-inbox fa-4x\"></i></p>\n" +
                    "<p class='text-secondary text-center feature-text mb-4' style='line-height: 1.3'>Looks like you didnt receive any new leads from your Facebook Ads in the last 7 days.</p>\n" +
                    "<p class='text-secondary text-center feature-text mb-0' style='line-height: 1.3'>Don't worry, you can come back anytime and <a href='/tools/facebook-leads-viewer' class='text-info' style='text-decoration: underline;'>check again</a>.</p>\n"+
                    "    </div>");
                    $('#restart-cta').hide();
                    AnalyticsHelper.sendVirtualPageView('FB LEAD Extractor', ANALYTICS_VPAGES.RESULT_EMPTY);

            }

            if(leadListToDisplay.length > 1){
                insertInlineUpsellItem();
            }

            if(leadListToDisplay.length > 0){
                // Show Download leads via csv option
                leadListContainer.append('<button class="list-group-item list-group-item-action text-center text-info cursor-pointer" type="button" onclick="exportLeadsViaCSV()">\n' +
                    '    <i class="fas fa-arrow-alt-to-bottom mr-2"></i>Download Leads\n' +
                    '</button>');
               
            }

            $('#screen-1').addClass('hide-section');
            $('#screen-2').removeClass('hide-section');

            // End Progress bars
            ProgressBarDialogUtils.end();
        }

        function insertInlineUpsellItem() {

            
            
            
            
            
            
            
            
            
            var INLINE_UPSELL_ITEM = $('.pitch-card').detach();
            var leadListContainer = $('#lead-list-group');
            leadListContainer.children().eq(3).after(INLINE_UPSELL_ITEM)

        }

        function guessLeadName(lead) {

            // Looks at all the fields, returns first match with word name in it.
            var name_field = lead.field_data.find(function (d) {
                return d.name.search(/name/) >= 0;
            });
            if (name_field){
                return LeadDetailsModalUtils.escapeHTML(name_field.values[0])
            } else return null;
        }

        function sendConversionEvents() {
            // Sends conversion events if the user has leads

            AnalyticsHelper.sendVirtualPageView('FB LEAD Extractor', ANALYTICS_VPAGES.RESULT_HAS_LEADS);
            setTimeout(function () {
                            gtag('event', 'conversion', {
                'send_to': 'AW-730604536/xd9uCKzdy8QBEPjHsNwC',
            });
            fbq('trackCustom', 'FBLeadExtractorHasLeads');

            }, 5);

        }
        
        function exportLeadsViaCSV() {
            var header = ["Date Created","Lead Name", "Facebook Page",  "Platform","Campaign", "Adset", "Ad", "Lead Form Data"];
            var rows = [];

            Object.values(LEADS_TO_DISPLAY).forEach(function (lead) {
               var displayLead = new DisplayLead(lead);
                rows.push([displayLead.dateCreated(), displayLead.name(), displayLead.pageName(),displayLead.platform(), displayLead.campaignName(),
                    displayLead.adsetName(), displayLead.adName(),
                  displayLead.fieldDataToMultilineString()])

            });

            var fileName = "facebook-leads-download";
            cSVImportExportUtils.exportAndDownload(header, rows, fileName);

            
        }


        class DisplayLead {
            constructor(lead){
                this.lead = lead;
            }

            name() {return guessLeadName(this.lead)}
            pageName() {return PAGES[FORMS[this.lead.form_id].page_id].name}
            campaignName() {return this.lead.campaign_name || "-"}
            adsetName() {return this.lead.adset_name || "-"}
            adName() {return this.lead.ad || "-"}
            dateCreated() {return  moment(this.lead.created_time).format('DD MMM YYYY, h:mm A')}
            fieldDataToMultilineString() {
                var formDataString = "";
                  this.lead.field_data.forEach(function (fr_dict) {
                formDataString += fr_dict.name +": "+ fr_dict.values.join() + "\n"
            });
                  return formDataString
            }
            platform() {return this.lead.platform || "-"}
        }
    </script>
        <script async defer src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>

    <script>
        class cSVImportExportUtils{


            static exportAndDownload(header, rows, filename){


                var csv = Papa.unparse({data: rows, fields: header});
                if (csv == null) return;

                var blob = new Blob([csv]);
                if (window.navigator.msSaveOrOpenBlob)  // IE hack; see http://msdn.microsoft.com/en-us/library/ie/hh779016.aspx
                    window.navigator.msSaveBlob(blob, args.filename);
                else {
                    var a = window.document.createElement("a");
                    a.href = window.URL.createObjectURL(blob, {type: "text/plain"});
                    a.download = filename+".csv";
                    document.body.appendChild(a);
                    a.click();  // IE: "Access is denied"; see: https://connect.microsoft.com/IE/feedback/details/797361/ie-10-treats-blob-url-as-cross-origin-and-denies-access
                    document.body.removeChild(a);
                }
            }
        }
    </script>


    <script defer async src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" integrity="sha256-4iQZ6BVL4qNKlQ27TExEhBN1HFPvAvAMbFavKKosSWQ=" crossorigin="anonymous"></script>
    <div class="modal fade" id="view-fb-lead-modal" tabindex="-1" role="dialog" style="display: none;" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="card bg-white">
                <div class="card-header bg-light text-dark d-flex">
                    <div class="flex-grow-1">
                        <span style="font-weight: 400;">View Lead Details</span>
                    </div>
                    <div class=""><a href="javascript:void(0)" data-dismiss="modal" aria-label="Close" class="text-dark"><i class="fa-lg far fa-times-circle" aria-hidden="true"></i></a></div>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"  id="lead-field-data-list">


                    </li>
                    <li class="list-group-item " id="lead-attribute-list">


                        <button type="button" class="btn btn-secondary btn-block" data-dismiss="modal">Close</button>

                    </li>
                </ul>

<!--
                <div class="card-body">

                </div>
-->
            </div>
        </div>
    </div>
</div>
<script>
    class LeadDetailsModalUtils{

        constructor() {
            this.leadFieldDataList = $('#lead-field-data-list');
            this.leadAttributeList = $('#lead-attribute-list');
        }

        emptyLists() {
            this.leadAttributeList.empty();
            this.leadFieldDataList.empty();
        }

        addRowToList(list, title, value) {
            list.append("<p class=\"mb-0 text-dark\" style='text-transform: capitalize; font-size: 1.0em; line-height: 1.5;'><strong>{title}</strong></p>".replace('{title}', title));
            list.append("<p class=\"mb-2 text-secondary\" style='font-size: 1.0em; line-height: 1.5;'>{value}</p>".replace('{value}', LeadDetailsModalUtils.escapeHTML(value)));
        }

        updateLeadDetailsModalAndShow(lead_id){
            this.updateModalWithLeadDetails(lead_id)
            $('#view-fb-lead-modal').modal('show');
        }

        updateModalWithLeadDetails(lead_id) {
            // leadData: id, created_time, field_data -> Array(name, Array(values))
            // Lead Modal has two parts. The form field, from the form. And the meta fields about the lead
            var leadData = LEADS_TO_DISPLAY[lead_id];
            // Clear existing daa
            this.emptyLists();

            var parContext = this;
            // Form Fields
            leadData.field_data.forEach(function (fr_dict) {
                parContext.addRowToList(parContext.leadFieldDataList,fr_dict.name, fr_dict.values.join())
            });
            // Add Metadata about Lead - Page Name, Platform, Campaign, adset, ad, date created
            var displayLead = new DisplayLead(leadData);
            this.addRowToList(this.leadAttributeList, "Page", displayLead.pageName());
            this.addRowToList(this.leadAttributeList, "Platform",  displayLead.platform());
            this.addRowToList(this.leadAttributeList, "Campaign",  displayLead.campaignName());
            this.addRowToList(this.leadAttributeList, "Adset",  displayLead.adsetName());
            this.addRowToList(this.leadAttributeList, "Ad",  displayLead.adName());
            this.addRowToList(this.leadAttributeList, "Date Created",   displayLead.dateCreated());
            // add modal close button
            this.leadAttributeList.append("<button type='button' class='btn btn-secondary btn-block mt-4' data-dismiss='modal'>Close</button>");
        }

        static escapeHTML(unsafeText){

            var entityMap = {
              '&': '&amp;',
              '<': '&lt;',
              '>': '&gt;',
              '"': '&quot;',
              "'": '&#39;',
              '/': '&#x2F;',
              '`': '&#x60;',
              '=': '&#x3D;'
            };

          return String(unsafeText).replace(/[&<>"'`=\/]/g, function (s) {
            return entityMap[s];
          });
        }
    }
    var leadModalUtils = new LeadDetailsModalUtils();
</script>

    <div class="modal" id="progress-bar-dialog" data-backdrop="static" data-keyboard="false" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content" style="transform: translateY(30vh);">
                    <div class="modal-header">
                        <h4 class="modal-title">Logging in...</h4>
                    </div>
                    <div class="modal-body">
                        <div class="progress">
                          <div class="progress-bar progress-bar-success progress-bar-striped .progress-bar-animated active" role="progressbar" id="modal-progressbar"
                          aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%; height: 40px">
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<script>
    class ProgressBarDialogUtils {
        static getDialog() {
            return $('#progress-bar-dialog')
        }
        static setModalTitle(msg) {
            ProgressBarDialogUtils.getDialog().find('.modal-title').text(msg)
        }
        static setModalPercentage(p) {
            // between 0 to 100
             ProgressBarDialogUtils.getDialog().find('#modal-progressbar').width(p+'%')
        }
        static start(msg) {
            ProgressBarDialogUtils.setModalTitle(msg);
            ProgressBarDialogUtils.setModalPercentage(0);
            ProgressBarDialogUtils.getDialog().modal('show');
        }
        static  update(message, progress) {
            ProgressBarDialogUtils.setModalTitle(message);
            ProgressBarDialogUtils.setModalPercentage(progress);
        }
        static end(){
            ProgressBarDialogUtils.getDialog().modal('hide')
        }
    }
</script>
    <script async>(function(s,u,m,o,j,v){j=u.createElement(m);v=u.getElementsByTagName(m)[0];j.async=1;j.src=o;j.dataset.sumoSiteId='d284c4e77964dbc3caa29b8f7a9be652fab45953196d02ae7bb6a4b60e3e28a0';v.parentNode.insertBefore(j,v)})(window,document,'script','//load.sumo.com/');</script>




<script  src="https://d1z8p0imlkk5pt.cloudfront.net/static/js/freshchat.b23dcb84d59d.js"></script>




<link rel='preload' href="https://d1z8p0imlkk5pt.cloudfront.net/static/css/alertify.1b3c6aa1743f.css" as="style" onload="this.rel='stylesheet'">
<link rel='preload' href="https://d1z8p0imlkk5pt.cloudfront.net/static/css/lightbox.min.f6bde759aa9f.css" as="style" onload="this.rel='stylesheet'">
<script defer async src="https://d1z8p0imlkk5pt.cloudfront.net/static/js/alertify.84061c87f53a.js"></script>
<script>
    /**
 * Wrapper for jQuery's $.post() that retrieves the CSRF token from the browser
 * cookie and sets then sets "X-CSRFToken" header in one fell swoop.
 *
 * Based on the example code given at the Django docs:
 * https://docs.djangoproject.com/en/1.9/ref/csrf/#ajax
 *
 * Use as you would $.post().
 */

(function($) {

  $.postRequest = function(url, data, csrfToken,callback, type, httpMethod) {
      // Old versions for safari do not allow default declration in signature. Using this method for that
      if (type === undefined) {
          type="JSON";
      }
      if (httpMethod === undefined) {
          httpMethod="POST";
      }


    function csrfSafeMethod(method) {
      // these HTTP methods do not require CSRF protection
      return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }


    // shift arguments if data argument was omitted
    if ($.isFunction(data)) {
      type = type || callback;
      callback = data;
      data = undefined;
    }

    return $.ajax(jQuery.extend({
      url: url,
      type: httpMethod,
      dataType: type,
      data: JSON.stringify(data),
      success: callback,
        contentType: "application/json",
      beforeSend: function(xhr, settings) {
        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
          xhr.setRequestHeader("X-CSRFToken", csrfToken);
        }
      }
    }, jQuery.isPlainObject(url) && url));
  };

  $.postCSRF = function(url, data, callback, type) {

    function csrfSafeMethod(method) {
      // these HTTP methods do not require CSRF protection
      return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }

    function getCookie(name) {
      var cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
          var cookie = jQuery.trim(cookies[i]);
          // Does this cookie string begin with the name we want?
          if (cookie.substring(0, name.length + 1) == (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
    }

    var csrftoken = getCookie('csrftoken');

    // shift arguments if data argument was omitted
    if ($.isFunction(data)) {
      type = type || callback;
      callback = data;
      data = undefined;
    }

    return $.ajax(jQuery.extend({
      url: url,
      type: "POST",
      dataType: type,
      data: data,
      success: callback,
      beforeSend: function(xhr, settings) {
        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
          xhr.setRequestHeader("X-CSRFToken", csrftoken);
        }
      }
    }, jQuery.isPlainObject(url) && url));
  };
}(jQuery));

</script>



</body>
</html>